(this.webpackJsonpdeloitte=this.webpackJsonpdeloitte||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},201:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},233:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(90),l=a.n(c),i=(a(102),a(60)),s=a(59),o=a.n(s),u=(a(103),a(104),a(5)),m=(a(105),function(e){return r.a.createElement("div",{id:"viewport"},r.a.createElement("div",{id:"sidebar"},r.a.createElement("header",null,r.a.createElement("a",{href:"#"},"Analytics")),r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement("div",{className:"Analytics_bullet"},r.a.createElement("span",{onClick:function(){return e.handleChoices(0)}},r.a.createElement("i",{className:"zmdi zmdi-view-dashboard"})," User Information"))),r.a.createElement("li",null,r.a.createElement("div",{className:"Analytics_bullet"},r.a.createElement("span",{onClick:function(){return e.handleChoices(1)}},r.a.createElement("i",{className:"zmdi zmdi-link"})," Fraud Statistics"))),r.a.createElement("li",null,r.a.createElement("div",{className:"Analytics_bullet"},r.a.createElement("span",{onClick:function(){return e.handleChoices(2)}},r.a.createElement("i",{className:"zmdi zmdi-widgets"})," Back To Demo"))))))}),d=(a(106),a(21)),p=a(22),f=a(24),h=a(23),b=a(38),g={labels:["January","February","March","April","May"],datasets:[{label:"Rainfall",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[65,59,80,81,56]}]},E=(r.a.Component,a(4)),v=a.n(E),y=a(8),x=(a(201),a(6)),k=a.n(x),_=a(9),j=a(258),O=a(261),N=a(263),w=a(256),S=a(259),C=a(262),D=a(257),A=a(260),q=Object(_.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(w.a),I=Object(_.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(D.a),F=Object(j.a)({table:{minWidth:700}}),P=function(e){var t=F();return r.a.createElement(S.a,{component:A.a},r.a.createElement(O.a,{className:t.table,"aria-label":"customized table"},r.a.createElement(C.a,null,r.a.createElement(D.a,null,r.a.createElement(q,{align:"right"},"SNO"),r.a.createElement(q,{align:"right"},"Transaction Ammount"),r.a.createElement(q,{align:"right"},"Transaction time"))),r.a.createElement(N.a,null,e.cardData.map((function(e,t){return r.a.createElement(I,{key:t},r.a.createElement(q,{align:"right"},t+1),r.a.createElement(q,{align:"right"},e.ammount),r.a.createElement(q,{align:"right"},e.time))})))))},T=(a(219),function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),o=s[0],m=s[1];function d(){return(d=Object(y.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get(e.url+"/analytic/user?name="+c);case 3:a=t.sent,console.log(a),n=a.data,r=[],Object.keys(n).forEach((function(e){var t=n[e][0],a=n[e][1],c=n[e][2];r.push({src:t,ammount:a,time:c})})),0==r.length&&("No Data","No Data","No Data",r.push({src:"No Data",ammount:"No Data",time:"No Data"})),m(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("/analytic/user ",Object.keys(t.t0),t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return console.log(o),Object(n.useEffect)((function(){""!=c&&0==o.length&&function(){d.apply(this,arguments)}()}),[c]),r.a.createElement("div",{className:"userInfoParent_outer"},r.a.createElement("span",{className:"information_div"},"Suspected Fraud attempts by card number ",c),r.a.createElement("br",null),c?r.a.createElement("div",{className:"userInfoTable_outer"},r.a.createElement(P,{cardData:o})):r.a.createElement("div",{className:"userInfoForm_div"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value;t=t.trim().replace(/\s/g,""),l(t)}},r.a.createElement("input",{type:"text",class:"userInforForm_text",placeholder:"Enter user card number"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",class:"userInfoForm_submit"}))))}),M=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var t=[],a=[];Object.keys(e.data).forEach((function(n){a.push({t:new Date(n),y:e.data[n]}),t.push(new Date(n).toISOString().slice(0,10))})),l({labels:t,datasets:[{label:"Number of Suspected Fraud Transactions",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:a}]})}),[e]),console.log(c),r.a.createElement("div",null,r.a.createElement(b.a,{data:c,options:{title:{display:!0,text:"Suspected Fraud Transactions Daily Analytics",fontSize:20},legend:{display:!0,position:"bottom"},scales:{xAxes:[{type:"time",time:{unit:"day",unitStepSize:1,displayFormats:{day:"MMM DD"}}}]},layout:{padding:{left:0,right:10,top:0,bottom:0}}}}))},z=(a(220),function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],l=a[1];function i(){return(i=Object(y.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get(e.url+"/analytic/all");case 3:a=t.sent,n=a.data,r={},Object.keys(n).forEach((function(e){var t=n[e][2],a=new Date(t),c=a.toISOString().slice(0,10);console.log(n[e],a),r.hasOwnProperty(c)?r[c]=r[c]+1:r[c]=1})),console.log("Data is ",r),l(r),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("/analytic/all",Object.keys(t.t0),t.t0.message),alert("Server Error !!");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"Fraud_graph_div"},r.a.createElement(M,{data:c}))}),B=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"Analytics_outer"},r.a.createElement("div",{className:"Analytics_navBar"},r.a.createElement(m,{handleChoices:function(t){2==t&&e.history.push("/"),l(t)}})),r.a.createElement("div",{className:"Analytics_main"},0==c?r.a.createElement(T,{url:e.url}):"",1==c?r.a.createElement(z,{url:e.url}):""))},R=(a(221),function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleNext},r.a.createElement("h3",{className:"CardSetupForm_fs_title"},"Let's set your card Up for the demo"),r.a.createElement("input",{type:"text",name:"card_no",placeholder:"Enter your card number",required:!0}),r.a.createElement("h4",{className:"CardSetupForm_fs_subtitle"},"This is just a demo , so enter any random card number."),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email_add",placeholder:"Enter your email address",required:!0}),r.a.createElement("h4",{className:"CardSetupForm_fs_subtitle"},"In case of fraud,this email address gets notification."),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"next",class:"next action-button",value:"Next"}),r.a.createElement("button",{onClick:e.skipRegister,class:"next action-button"},"Skip")))}),W=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleNext},r.a.createElement("h2",{className:"fs-title"},"Payment Details"),r.a.createElement("h3",{className:"fs-subtitle"},"This is step 2"),r.a.createElement("input",{type:"text",placeholder:"Account Number of the receiver",required:!0}),r.a.createElement("input",{type:"text",placeholder:"Ammount to be transferred in INR",required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"next",class:"next action-button",value:"Next"})))},Y=(a(222),function(e){return r.a.createElement("div",null,r.a.createElement("form",{class:"payment",onSubmit:e.onPaymentSubmission},r.a.createElement("div",{class:"panel panel-default credit-card-box"},r.a.createElement("div",{class:"panel-heading display-table"},r.a.createElement("div",{class:"row display-tr"},r.a.createElement("h3",{class:"panel-title display-td"},"Payment Details"),r.a.createElement("img",{class:"img-responsive pull-right",src:"http://i76.imgup.net/accepted_c22e0.png"})))),r.a.createElement("br",null),r.a.createElement("label",{for:"cardNumber"},"CARD NUMBER"),r.a.createElement("input",{type:"text",size:"10",class:"form-control",name:"cardNumber",placeholder:"Valid Card Number",autocomplete:"cc-number",required:!0,autofocus:!0}),r.a.createElement("span",{class:"input-group-addon"},r.a.createElement("i",{class:"fa fa-credit-card"})),r.a.createElement("label",{for:"cardExpir"},"EXPIRATION DATE"),r.a.createElement("input",{type:"text",size:"5",class:"form-control",name:"cardExpiry",placeholder:"MM / YY",autocomplete:"cc-exp",required:!0}),r.a.createElement("label",{for:"cardCVC"},"CV CODE"),r.a.createElement("input",{type:"text",size:"3",class:"form-control",name:"cardCVC",placeholder:"CVC",autocomplete:"cc-csc",required:!0}),r.a.createElement("br",null),r.a.createElement("label",{for:"Amount"},"Amount"),r.a.createElement("input",{type:"text",size:"3",class:"form-control",name:"Amount",value:e.paymentDetails.Amount}),r.a.createElement("br",null),r.a.createElement("button",{class:"blueButton",type:"submit"},"Confirm Payment"),r.a.createElement("br",null),r.a.createElement("br",null)))}),U=a(42),V=a.n(U),J=a(264),L=(a(89),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).componentWillMount=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setInputDevice();case 1:case"end":return e.stop()}}),e)}))),n.setInputDevice=function(){navigator.mediaDevices.enumerateDevices().then(function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return"videoinput"===e.kind}));case 2:if(!(e.sent.length<2)){e.next=8;break}return e.next=6,n.setState({facingMode:"user"});case 6:e.next=10;break;case 8:return e.next=10,n.setState({facingMode:{exact:"environment"}});case 10:n.startCapture();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n.startCapture=function(){setTimeout((function(){n.interval=setInterval((function(){n.state.image_queue.length>=n.state.total_pics&&clearInterval(n.interval),n.capture()}),3e3)}),2e3)},n.capture=Object(y.a)(v.a.mark((function e(){var t,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.webcam.current&&n.state.image_queue.length<n.state.total_pic&&(t=n.state.queue_front,null!=(a=n.webcam.current.getScreenshot())&&((r=n.state.image_queue).push(a),n.setState({image_queue:r}),c={base64image:n.state.image_queue[t],name:n.props.name+n.state.queue_front},{name:c.name+".jpeg"},console.log("Pushing in the data ",t),n.setState({queue_front:t+1,imgPath:c.base64image})));case 1:case"end":return e.stop()}}),e)}))),n.webcam=r.a.createRef(),n.state={fullDesc:null,detections:null,descriptors:null,faceMatcher:null,match:null,facingMode:null,imgPath:"",image_queue:[],queue_front:0,identifiedFaceArray:[],total_pic:3},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(){if(this.state.image_queue.length==this.state.total_pic){this.props.handleWebCamImages(this.state.image_queue);var e=this.state.image_queue;e.push("null"),this.setState({image_queue:e})}}},{key:"render",value:function(){var e=this.state,t=e.detections,a=e.match,n=e.facingMode,c=null,l="";n&&(c={width:420,height:420,facingMode:n},l="user"===n?"Front":"Back");var i=null;return t&&this.state.image_queue.length<this.state.total_pic&&(i=t.map((function(e,t){var n=e.box.height,c=e.box.width,l=e.box._x,i=e.box._y;return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{position:"absolute",border:"solid",borderColor:"blue",height:n,width:c,transform:"translate(".concat(l,"px,").concat(i,"px)")}},a&&a[t]?r.a.createElement("p",{style:{backgroundColor:"blue",border:"solid",borderColor:"blue",width:c,marginTop:0,color:"#fff",transform:"translate(-3px,".concat(n,"px)")}},a[t]._label):null))}))),this.state.image_queue.length<this.state.total_pic?r.a.createElement("div",{className:"Camera",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("p",null,"Camera: ",l),r.a.createElement("span",null," ","Please look into the camera and ensure enough lights around you !!"),r.a.createElement("div",{style:{width:420,height:420}},r.a.createElement("div",{style:{position:"relative",width:420}},c?r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(V.a,{audio:!1,width:420,height:420,ref:this.webcam,screenshotFormat:"image/jpeg",videoConstraints:c})):null,i||null)),r.a.createElement("span",null,"Clicked ",this.state.queue_front+1,"/",this.state.total_pic),r.a.createElement("br",null),r.a.createElement(J.a,null)):r.a.createElement("div",{className:"Finished"},r.a.createElement("h2",{className:"fs-title"},"Congratulations !! Your card has been setup for Demo"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Your Card has a balance of INR 10,00,000 !!"),r.a.createElement("button",{class:"next action-button",onClick:this.props.handleNext},"Next"))}}]),a}(n.Component)),Z=(a(223),function(e){return r.a.createElement("div",{className:"conf-modal_success center success"},r.a.createElement("div",{className:"title-icon"},r.a.createElement("img",{src:"http://jimy.co/res/icon-success.jpg"})),r.a.createElement("div",{className:"title-text"},r.a.createElement("h1",null,"Success!")),r.a.createElement("p",null,"You can now proceed to the payment gateway !! Thank you for the verification."),r.a.createElement("p",null,"The Demo Ends here , Thank you for using it!!"),r.a.createElement("br",null),r.a.createElement("button",{class:"next action-button_success",onClick:function(){window.location.reload()}},"Back"))}),$=a(43),X=a.n($),G=(a(224),function(e){return r.a.createElement("div",{className:"conf-modal_failure center success"},r.a.createElement("div",{className:"title-icon"},r.a.createElement("img",{className:"failurIcon",src:X.a})),r.a.createElement("div",{className:"title-text failure"},r.a.createElement("h1",null,"Failure!")),r.a.createElement("p",null,"Sorry!! Your face could not be matched !! Please contact the bank regarding this transaction"),r.a.createElement("p",null,"The Demo Ends here , Thank you for using it!!"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){window.location.reload()},class:"next action-button_failure"},"Back"))}),H=(a(225),Object(i.c)((function(e){return r.a.createElement("div",{className:"conf-modal_warning center success"},r.a.createElement("div",{className:"title-text failure"},r.a.createElement("h1",null,"Suspicious Activity Detected!")),r.a.createElement("p",null,"We have detected your transaction to be Suspicious and fraudlent !! Please verify your face via clicking on Proceed"),r.a.createElement("p",null,"Click on Cancel to Cancel the transaction"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.handleCancel()},class:"next action-button_warning_cancel"},"Cancel"),r.a.createElement("button",{onClick:function(){return e.handleNext()},class:"next action-button_warning_proceed"},"Proceed"))}))),K=(a(227),function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({card_no:"",email:""}),s=Object(u.a)(i,2),o=s[0],m=s[1],d=Object(n.useState)({DestAcc:"",Amount:0}),p=Object(u.a)(d,2),f=p[0],h=p[1],b=Object(n.useState)(!1),g=Object(u.a)(b,2),E=g[0],x=(g[1],Object(n.useState)(0)),_=Object(u.a)(x,2),j=_[0],O=_[1],N=Object(n.useState)(""),w=Object(u.a)(N,2),S=w[0],C=w[1];function D(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function A(e){return q.apply(this,arguments)}function q(){return(q=Object(y.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get(e.url+"/isexists?name="+a);case 3:if(!(n=t.sent).data){t.next=14;break}if(r=n.data.split("'").join('"'),"none"==JSON.parse(r).email){t.next=11;break}return t.abrupt("return",!0);case 11:return t.abrupt("return",!1);case 12:t.next=15;break;case 14:alert("Server error !!");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.log("/isexists",Object.keys(t.t0),t.t0.message),alert("Server error !!");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}function I(){return(I=Object(y.a)(v.a.mark((function e(t){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target[0].value.trim().replace(/\s/g,""),n=t.target[1].value,e.prev=3,e.next=6,A(a);case 6:if(1!=(r=e.sent)){e.next=12;break}return alert("Sorry !!  This Card Number already exists , please choose another one for demo !!"),e.abrupt("return");case 12:if(0!=r){e.next=20;break}if(!D(n)){e.next=18;break}m({card_no:a,email:n}),l(1),e.next=20;break;case 18:return alert("Enter Valid Email Address"),e.abrupt("return");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),console.log(Object.keys(e.t0),e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[3,22]])})))).apply(this,arguments)}function F(){return(F=Object(y.a)(v.a.mark((function t(a){var n,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,3!=a.length){t.next=24;break}return n={base64image:a[0],base64image1:a[1],base64image2:a[2],card:o.card_no,email:o.email},t.next=5,k.a.post(e.url+"/upload/setup",n);case 5:if(r=t.sent,!(c=r.data)||!c.hasOwnProperty("status")){t.next=24;break}if("failed"!=r.status){t.next=14;break}return alert("OOPS!! Some Error Occurred !"),l(0),t.abrupt("return");case 14:if("No face"!=c.status){t.next=20;break}return alert("No Face was detected !! please setup again.."),l(0),t.abrupt("return");case 20:if("failed_already_exists"!=c.status){t.next=24;break}return alert("This card number already exists , please select another !!"),l(0),t.abrupt("return");case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),console.log("/upload/setup ",Object.keys(t.t0),t.t0.message);case 29:case"end":return t.stop()}}),t,null,[[0,26]])})))).apply(this,arguments)}function P(e){var t=e.split("/");if(2!=t.length)return alert("Please Enter Expiration Date in MM / YY format !"),!1;var a=parseInt(t[0]),n=2e3+parseInt(t[1]);if(a<1||a>12)return alert("Please check your Expiration month !"),!1;var r=new Date(n,a,1);return!(new Date>r)||(alert("Your card has expired !!"),!1)}function T(){return(T=Object(y.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=a.target[1].value,r=a.target[0].value.trim().replace(/\s/g,""),a.target[2].value;try{A(r).then((function(t){if(t){if(P(n)){var c=r+"_"+f.DestAcc,l=e.url+"/getFraud?src="+r+"&des="+f.DestAcc+"&ammount="+f.Amount;try{k.a.get(l).then((function(e){var t=parseInt(e.data);1==t||"1"==t?C(c):O(1)}))}catch(a){console.log("/getFraud",Object.keys(a),a.message),alert("Server Error !!")}}}else alert("OOPS !! NO such card number exists in our database , Please set yourself up for the demo First !!")}))}catch(a){console.log("/getFraud or /exists",Object.keys(a),a.message)}case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"DemoMain_outer"},c<=2?r.a.createElement("div",{className:"info_extract_box"},r.a.createElement("form",{id:"msform"},r.a.createElement("ul",{id:"progressbar"},r.a.createElement("li",{className:0==c?"active":"inactive"},"Demo Setup"),r.a.createElement("li",{className:1==c?"active":"inactive"},"Image Setup"),r.a.createElement("li",{className:2==c?"active":"inactive"},"Payment Details")),0==c?r.a.createElement("fieldset",null,r.a.createElement(R,{skipRegister:function(){l(2)},handleNext:function(e){return I.apply(this,arguments)}})):"",1!=c||E?"":r.a.createElement("fieldset",{className:"_unverified"},r.a.createElement(L,{handleWebCamImages:function(e){return F.apply(this,arguments)},handleNext:function(){l(2)}})),2==c?r.a.createElement("fieldset",null,r.a.createElement(W,{handleNext:function(e){e.preventDefault();var t=e.target[0].value.trim().replace(/\s/g,""),a=e.target[1].value;a<=0?alert("Please enter a possitive value ammount"):(h({DestAcc:t,Amount:a}),l(3))}})):"")):r.a.createElement("div",{className:"payment_form"},0==j&&""==S?r.a.createElement(Y,{onPaymentSubmission:function(e){return T.apply(this,arguments)},paymentDetails:f}):"",1==j&&""==S?r.a.createElement(Z,null):"",""!=S&&0==j?r.a.createElement("fieldset",null,r.a.createElement(H,{handleNext:function(){S&&e.history.push("/validate/".concat(S,"/").concat(f.Amount))},handleCancel:function(){O(2)}})):"",2==j?r.a.createElement(G,{history:e.history}):""),0==c?r.a.createElement("button",{onClick:function(){e.history.push("/analytics")},class:"next action-button_analytics"},"Visit Analytics Portal"):"")}),Q=(a(228),a(229),a(89),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).componentWillMount=Object(y.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setInputDevice();case 1:case"end":return e.stop()}}),e)}))),n.setInputDevice=function(){navigator.mediaDevices.enumerateDevices().then(function(){var e=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return"videoinput"===e.kind}));case 2:if(!(e.sent.length<2)){e.next=8;break}return e.next=6,n.setState({facingMode:"user"});case 6:e.next=10;break;case 8:return e.next=10,n.setState({facingMode:{exact:"environment"}});case 10:n.startCapture();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},n.startCapture=function(){n.interval=setInterval((function(){n.state.image_queue.length>=4&&clearInterval(n.interval),n.capture()}),3e3)},n.capture=Object(y.a)(v.a.mark((function e(){var t,a,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.webcam.current&&n.state.image_queue.length<4){t=n.state.queue_front,a=n.webcam.current.getScreenshot(),(r=n.state.image_queue).push(a),n.setState({image_queue:r}),c={base64image:n.state.image_queue[t],name:n.props.name+"_"+n.state.queue_front},l={name:c.name+".jpeg"},n.setState({queue_front:t+1,imgPath:c.base64image});try{k.a.post(n.props.url+"/upload/image",c).then((function(e){try{k.a.get(n.props.url+"/name?name="+l.name).then((function(e){var t=n.state.identifiedFaceArray;e.data?t.push(e.data.arr):t.push(""),n.setState({identifiedFaceArray:t})}))}catch(t){console.log("/name ",Object.keys(t),t.message)}}))}catch(i){console.log("/upload/image ",Object.keys(i),i.message)}}case 1:case"end":return e.stop()}}),e)}))),n.webcam=r.a.createRef(),n.state={fullDesc:null,detections:null,descriptors:null,faceMatcher:null,match:null,facingMode:null,imgPath:"",image_queue:[],queue_front:0,identifiedFaceArray:[]},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(){4!=this.state.identifiedFaceArray.length||this.props.udpateImageRecognition(this.state.identifiedFaceArray)}},{key:"render",value:function(){var e=this.state,t=e.detections,a=e.match,n=e.facingMode,c=null,l="";n&&(c={width:420,height:420,facingMode:n},l="user"===n?"Front":"Back");var i=null;return t&&this.state.image_queue.length<4&&(i=t.map((function(e,t){var n=e.box.height,c=e.box.width,l=e.box._x,i=e.box._y;return r.a.createElement("div",{key:t},r.a.createElement("div",{style:{position:"absolute",border:"solid",borderColor:"blue",height:n,width:c,transform:"translate(".concat(l,"px,").concat(i,"px)")}},a&&a[t]?r.a.createElement("p",{style:{backgroundColor:"blue",border:"solid",borderColor:"blue",width:c,marginTop:0,color:"#fff",transform:"translate(-3px,".concat(n,"px)")}},a[t]._label):null))}))),this.state.image_queue.length<4?r.a.createElement("div",{className:"Camera",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("p",null,"Camera: ",l),r.a.createElement("div",{style:{width:420,height:420}},r.a.createElement("div",{style:{position:"relative",width:420}},c?r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement(V.a,{audio:!1,width:420,height:420,ref:this.webcam,screenshotFormat:"image/jpeg",videoConstraints:c})):null,i||null)),r.a.createElement("span",{className:"webcam_instructions"},"Please Look into the camera !! Make sure your face fits in the square and ensure proper lightings !!"),r.a.createElement("span",{className:"images_tracker"},this.state.queue_front+1,"/4"),r.a.createElement(J.a,null)):r.a.createElement("div",{className:"Loading_circular_div"},r.a.createElement(J.a,null))}}]),a}(n.Component)),ee=(a(233),"http://18.222.34.196:8000"),te=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),s=Object(u.a)(i,2),o=s[0],m=s[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),f=p[0],h=p[1],b=e.match.params.id,g=e.match.params.ammount;function E(){l(2);var e=b.split("_");if(2==e.length){var t=e[0];e[1];try{k.a.get(ee+"/getemail?name="+t).then((function(e){if(e.data){var a=e.data.split("'").join('"'),n=JSON.parse(a);if("failed"==n.status)return;var r=n.email,c={email:r.toString(),img1:b+"_0.jpeg",img2:b+"_1.jpeg",img3:b+"_2.jpeg",img4:b+"_3.jpeg"};try{k.a.post("http://18.222.34.196:8000/send",c)}catch(i){console.log("/send ",Object.keys(i),i.message)}var l=(new Date).toISOString().slice(0,19).replace("T"," ");try{k.a.post(ee+"/write?name="+t+"&ammount="+g+"&time="+l)}catch(i){console.log("/write",Object.keys(i),i.message)}}}))}catch(a){console.log(Object.keys(a),a.message)}}}return Object(n.useEffect)((function(){if(b&&""==f&&2!=c&&4==o.length){var e="",t="";try{var a=b.split("_");e=a[0],t=a[1]}catch(r){return void console.log(Object.keys(r),r.message)}if(function(e){var t=!1;return o.forEach((function(a){a.forEach((function(a){var n=a.split("_");n.length>=2&&n[0]==e&&(t=!0)}))})),t}(e)){h(e);var n={img1:b+"_0.jpeg",img2:b+"_1.jpeg",img3:b+"_2.jpeg",img4:b+"_3.jpeg"};try{k.a.get(ee+"/writedata?src="+e+"&des="+t+"&ammount="+g)}catch(r){console.log("/writedata ",Object.keys(r),r.message)}try{k.a.post(ee+"/deleteImages",n)}catch(r){console.log("/delete",Object.keys(r),r)}}else E()}}),[o]),r.a.createElement("div",null,0==c&&""==f?r.a.createElement(Q,{name:b,url:ee,udpateImageRecognition:function(e){0==o.length&&4==e.length&&(l(1),m(e))}}):"",""!=f&&1==c?r.a.createElement("div",{className:"conf-modal_verification center success"},r.a.createElement("div",{className:"title-icon"},r.a.createElement("img",{src:"http://jimy.co/res/icon-success.jpg"})),r.a.createElement("div",{className:"title-text"},r.a.createElement("h1",null,"Success!")),r.a.createElement("p",null,"You can now proceed to the payment gateway !! Thank you for the verification."),r.a.createElement("p",null,"The Demo Ends here , Thank you for using it!!"),r.a.createElement("br",null),r.a.createElement("button",{class:"next action-button_verification",onClick:function(){e.history.push("/")}},"Back")):"",""==f&&2==c?r.a.createElement("div",{className:"conf-modal_verification center success"},r.a.createElement("div",{className:"title-icon"},r.a.createElement("img",{className:"failurIcon",src:X.a})),r.a.createElement("div",{className:"title-text failure"},r.a.createElement("h1",null,"Failure!")),r.a.createElement("p",null,"Sorry!! Your face could not be matched !! Please contact the bank regarding this transaction"),r.a.createElement("p",null,"The Demo Ends here , Thank you for using it!!"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.history.push("/")},class:"next action-button_verification"},"Back")):"")},ae=o()({basename:""}),ne="http://localhost:8000",re=function(){return r.a.createElement("div",null,r.a.createElement(i.b,{history:ae},r.a.createElement("div",{className:"route"},r.a.createElement(i.a,{exact:!0,path:"/",component:function(){return r.a.createElement(K,{history:ae,url:ne})}}),r.a.createElement(i.a,{path:"/analytics",component:function(){return r.a.createElement(B,{url:ne,history:ae})}}),r.a.createElement(i.a,{path:"/validate/:id/:ammount",component:te}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,t,a){e.exports=a.p+"static/media/Deletion_icon.svg.e7912e00.png"},97:function(e,t,a){e.exports=a(237)}},[[97,1,2]]]);
//# sourceMappingURL=main.2762a16a.chunk.js.map